#8.1.1 跨浏览器兼容的事件处理

在第7章的示例7.7中，演示了用来捕获事件和添加事件处理程序函数的跨浏览器兼容的函数：  

```
//检查对象模型
if (evtObject.addEventListener) {
    document.addEventListener("click", clickMe, false);
} else if (evtObject.attachEvent) {
    evtObject.attachEvent("onclick", clickMe);
} else if (evtObject.onclick) {
    evtobject.onclick = clickMe;
}
```

对于现在的JavaScript应用程序而言，应该使用attachEvent和addEventListener来实现跨浏览器兼容，但你也不希望对于每个事件中都重复输入这些代码，特别是当要对表单进行验证时，将会涉及很多事件。  
更好的方法是创建可复用的事件处理函数，例如：

```
function catchEvent(eventObj, event, eventHandler) {
    if (eventObj.addEventListener) {
        eventObj.addEventListener(event, eventHandler, false);
    } else if (eventObj.attachEvent) {
        event = "on" + event;
        eventObj.attachEvent(event, eventHandler);
    }
}
```

```
function cancelEvent(event) {
    if (event.preventDefault) {
        event.preventDefault();
        event.stopPropagation();
    } else {
        event.returnValue = false;
        event.cancelBubble = true;
    }
}
```